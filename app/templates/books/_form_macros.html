{% macro book_form(book, genres, is_edit) %}
    <div class="mb-3">
        <label for="title">Название</label>
        <input class="form-control" type="text" name="title" id="title" value="{{ book.title or '' }}" required>
    </div>
    <div class="mb-3">
        <label for="short_desc">Краткое описание</label>
        <textarea class="form-control" name="short_desc" id="short_desc" rows="3">{{ book.short_desc or '' }}</textarea>
    </div>
    <div class="mb-3">
        <label for="year">Год</label>
        <input class="form-control" type="number" name="year" id="year" value="{{ book.year or '' }}" required>
    </div>
    <div class="mb-3">
        <label for="publisher">Издатель</label>
        <input class="form-control" type="text" name="publisher" id="publisher" value="{{ book.publisher or '' }}">
    </div>
    <div class="mb-3">
        <label for="author">Автор</label>
        <input class="form-control" type="text" name="author" id="author" value="{{ book.author or '' }}">
    </div>
    <div class="mb-3">
        <label for="pages">Страницы</label>
        <input class="form-control" type="number" name="pages" id="pages" value="{{ book.pages or '' }}">
    </div>
    <div class="mb-3">
        <label for="genres">Жанр</label>
        <select class="form-select" name="genre_ids" id="genres" multiple>
            {% for genre in genres %}
                <option value="{{ genre.id }}" {% if genre.id in book.genres %}selected{% endif %}>{{ genre.name }}</option>
            {% endfor %}
        </select>
    </div>
    {% if not is_edit %}
    <div class="mb-3">
        <label for="cover_img">Обложка</label>
        <input class="form-control" type="file" name="cover_img" id="cover_img">
    </div>
    {% endif %}
{% endmacro %}
